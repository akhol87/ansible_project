<repo-to-text>
Directory: ansible

Directory Structure:
<directory_structure>
.
.
â”œâ”€â”€ ./apache_vhosts.yml
â”œâ”€â”€ ./copy-yum-repos.yml
â”œâ”€â”€ ./dns_clients.yml
â”œâ”€â”€ ./dns_dynamic.yml
â”œâ”€â”€ ./.git
â”‚Â Â  â”œâ”€â”€ ./.git/branches
â”‚Â Â  â”œâ”€â”€ ./.git/COMMIT_EDITMSG
â”‚Â Â  â”œâ”€â”€ ./.git/config
â”‚Â Â  â”œâ”€â”€ ./.git/description
â”‚Â Â  â”œâ”€â”€ ./.git/FETCH_HEAD
â”‚Â Â  â”œâ”€â”€ ./.git/HEAD
â”‚Â Â  â”œâ”€â”€ ./.git/hooks
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ./.git/hooks/applypatch-msg.sample
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ./.git/hooks/commit-msg.sample
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ./.git/hooks/fsmonitor-watchman.sample
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ./.git/hooks/post-update.sample
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ./.git/hooks/pre-applypatch.sample
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ./.git/hooks/pre-commit.sample
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ./.git/hooks/pre-merge-commit.sample
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ./.git/hooks/prepare-commit-msg.sample
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ./.git/hooks/pre-push.sample
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ./.git/hooks/pre-rebase.sample
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ./.git/hooks/pre-receive.sample
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ./.git/hooks/push-to-checkout.sample
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ./.git/hooks/sendemail-validate.sample
â”‚Â Â  â”‚Â Â  â””â”€â”€ ./.git/hooks/update.sample
â”‚Â Â  â”œâ”€â”€ ./.git/index
â”‚Â Â  â”œâ”€â”€ ./.git/info
â”‚Â Â  â”‚Â Â  â””â”€â”€ ./.git/info/exclude
â”‚Â Â  â”œâ”€â”€ ./.git/logs
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ./.git/logs/HEAD
â”‚Â Â  â”‚Â Â  â””â”€â”€ ./.git/logs/refs
â”‚Â Â  â”‚Â Â      â”œâ”€â”€ ./.git/logs/refs/heads
â”‚Â Â  â”‚Â Â      â”‚Â Â  â””â”€â”€ ./.git/logs/refs/heads/master
â”‚Â Â  â”‚Â Â      â””â”€â”€ ./.git/logs/refs/remotes
â”‚Â Â  â”‚Â Â          â””â”€â”€ ./.git/logs/refs/remotes/origin
â”‚Â Â  â”‚Â Â              â””â”€â”€ ./.git/logs/refs/remotes/origin/master
â”‚Â Â  â”œâ”€â”€ ./.git/objects
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ./.git/objects/03
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ./.git/objects/03/55d4d908e1339110525faa93bb0066b7a2063e
â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ ./.git/objects/03/c01ecb11bbdea2cb91cdfd5d8e40c95173de20
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ./.git/objects/05
â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ ./.git/objects/05/fd118ae2dcb70767f4e1bc615521a6c9c0507c
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ./.git/objects/06
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ./.git/objects/06/361c738064c853e22a9d642ba7622a6a3a25ce
â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ ./.git/objects/06/d5477623e76f9ca9fa588c98ae6b94a7a59115
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ./.git/objects/0c
â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ ./.git/objects/0c/1952e97bf99358f0da2a13e00de95aa8b892b8
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ./.git/objects/14
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ./.git/objects/14/afd2f939239f831bf2f19eafab46694045b720
â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ ./.git/objects/14/b649e571e15b7cfcb69295a80caa92f1cc1953
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ./.git/objects/15
â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ ./.git/objects/15/2f56438a891d99a879eecd009f8421f2dc4080
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ./.git/objects/1b
â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ ./.git/objects/1b/6e63cdca916910164f9b8d3528abeaed54d911
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ./.git/objects/26
â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ ./.git/objects/26/0510fd657599bc8fbf975b3040812af36c0413
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ./.git/objects/36
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ./.git/objects/36/98fbdc02fb1eed24980dc62850d0f52c98acae
â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ ./.git/objects/36/9ef70776acebd4ccc1f43610aa104fb3a45a91
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ./.git/objects/3b
â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ ./.git/objects/3b/fce31fc3e85cb35fbb30df06cc9fa0412158ff
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ./.git/objects/3f
â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ ./.git/objects/3f/b880713a38f691c2ee3514bf450ea042b2b3fc
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ./.git/objects/47
â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ ./.git/objects/47/bacc6d5071914dcd832ad03f280eb6efd627c0
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ./.git/objects/48
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ./.git/objects/48/9bc0158166ef8578deb5b83072d92980ce83ce
â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ ./.git/objects/48/ddb567d7dd2d390370d71414973f3b1f00d186
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ./.git/objects/4a
â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ ./.git/objects/4a/589324f2fdec5830cc4769c78d20331990d39a
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ./.git/objects/4b
â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ ./.git/objects/4b/b45d6e4d653d9b3e79b4e2bfbea80143d07f47
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ./.git/objects/4f
â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ ./.git/objects/4f/6072d58e65fd642a32747084e41d582710207b
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ./.git/objects/50
â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ ./.git/objects/50/9dab3214c23f7432a2b927aece499ebf8ee9ec
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ./.git/objects/52
â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ ./.git/objects/52/1cede45617b5d09c7062a02a164e17d7087276
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ./.git/objects/57
â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ ./.git/objects/57/c3067db4557cc2445794234c5cbb0547864abe
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ./.git/objects/59
â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ ./.git/objects/59/3c1eb59e0a881daaa90144b51c3f149896eb9b
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ./.git/objects/5b
â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ ./.git/objects/5b/68524bf5b1869d80277698ddf46d725ae763d4
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ./.git/objects/5c
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ./.git/objects/5c/130cecd0441f85d250dc2a66bf755b860c2590
â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ ./.git/objects/5c/8ed5a02190b963dcccb598ba88d20ae1ff4a65
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ./.git/objects/5f
â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ ./.git/objects/5f/1a9d1366bcc8763dcee309045fe124ebf22b25
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ./.git/objects/77
â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ ./.git/objects/77/eabe79463e5c871dad4593027b9370d5c28b95
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ./.git/objects/86
â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ ./.git/objects/86/aba7d5135230dc4757f878536c230e56039b33
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ./.git/objects/87
â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ ./.git/objects/87/a08fd90470295b9679765f5583ca075affae8d
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ./.git/objects/97
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ./.git/objects/97/29822f1ddd39f9fa6433f1687c8768986d1d43
â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ ./.git/objects/97/4a2bb88f9f5ed7587e7541a688269c22e91dd3
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ./.git/objects/9c
â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ ./.git/objects/9c/bac2527945f0256cade49eb62fb1399363d6d3
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ./.git/objects/9d
â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ ./.git/objects/9d/a7b2970a0b4cd5d09e312fb272b65ca3f35083
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ./.git/objects/a7
â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ ./.git/objects/a7/6fa7f03ec983a9b95bc22e76e8b906c3c9d509
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ./.git/objects/aa
â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ ./.git/objects/aa/ed8788d77837524c61d3d5c4b699e93fee938b
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ./.git/objects/ac
â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ ./.git/objects/ac/2375cb9c8e8754031224f2f1de26776de39a7f
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ./.git/objects/b1
â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ ./.git/objects/b1/96c59b16989b6eace67637a4d9ac4160dca89c
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ./.git/objects/b2
â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ ./.git/objects/b2/f910379ff9b7f07ae9fa128eb02317696b1a3f
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ./.git/objects/b7
â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ ./.git/objects/b7/350eb94cac12ed57e2420a9dca00b203ebb112
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ./.git/objects/bb
â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ ./.git/objects/bb/24aa67b2f384d3b4d56829cef12680e19bfee8
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ./.git/objects/c1
â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ ./.git/objects/c1/f690e0b933178677114a37cd5e49bfb7e0573a
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ./.git/objects/c4
â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ ./.git/objects/c4/2fce463c319ac22fa8214b982ad020483d352f
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ./.git/objects/c6
â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ ./.git/objects/c6/468bddbc521ff4d3c4e82338df0955529a79a6
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ./.git/objects/cb
â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ ./.git/objects/cb/4e845509ff581b0714b9fb75344e0ff53280fd
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ./.git/objects/cd
â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ ./.git/objects/cd/796bb961bf0a54d92e1b531c23541e016ea5db
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ./.git/objects/d5
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ./.git/objects/d5/aba4f4394c4659c472f4751c44fa33faf6b367
â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ ./.git/objects/d5/f21d653c7d110c27f89a0e6c750cb3ee13ccf1
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ./.git/objects/db
â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ ./.git/objects/db/0600cb7aa2d27c33c6348153f963d9dd1f53c7
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ./.git/objects/dc
â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ ./.git/objects/dc/4f7d40376438583f47e954190251654f970f86
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ./.git/objects/e5
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ./.git/objects/e5/5944a389de129d3c7404cbef81dd63f7775de8
â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ ./.git/objects/e5/cf98bbaf1b1d8652fdeedb98fb98414d80aa68
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ./.git/objects/e7
â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ ./.git/objects/e7/f579b2cd46c28c51050800bf533344ab84ca22
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ./.git/objects/f5
â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ ./.git/objects/f5/e977100864a38cb13cdee23111a5f20c405b8e
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ./.git/objects/ff
â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ ./.git/objects/ff/e29f4d83bc7856717291cbc6b84bb9a192f1aa
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ./.git/objects/info
â”‚Â Â  â”‚Â Â  â””â”€â”€ ./.git/objects/pack
â”‚Â Â  â”œâ”€â”€ ./.git/ORIG_HEAD
â”‚Â Â  â””â”€â”€ ./.git/refs
â”‚Â Â      â”œâ”€â”€ ./.git/refs/heads
â”‚Â Â      â”‚Â Â  â””â”€â”€ ./.git/refs/heads/master
â”‚Â Â      â”œâ”€â”€ ./.git/refs/remotes
â”‚Â Â      â”‚Â Â  â””â”€â”€ ./.git/refs/remotes/origin
â”‚Â Â      â”‚Â Â      â””â”€â”€ ./.git/refs/remotes/origin/master
â”‚Â Â      â””â”€â”€ ./.git/refs/tags
â”œâ”€â”€ ./haproxy.yml
â”œâ”€â”€ ./ntp_clients.yml
â”œâ”€â”€ ./ntp_master.yml
â”œâ”€â”€ ./README.md
â”œâ”€â”€ ./repo-to-text_2025-12-03-03-52-36-UTC.txt
â”œâ”€â”€ ./roles
â”‚Â Â  â”œâ”€â”€ ./roles/apache_vhosts
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ./roles/apache_vhosts/defaults
â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ ./roles/apache_vhosts/defaults/main.yml
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ./roles/apache_vhosts/handlers
â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ ./roles/apache_vhosts/handlers/main.yml
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ./roles/apache_vhosts/tasks
â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ ./roles/apache_vhosts/tasks/main.yml
â”‚Â Â  â”‚Â Â  â””â”€â”€ ./roles/apache_vhosts/templates
â”‚Â Â  â”‚Â Â      â”œâ”€â”€ ./roles/apache_vhosts/templates/index.html.j2
â”‚Â Â  â”‚Â Â      â””â”€â”€ ./roles/apache_vhosts/templates/vhost.conf.j2
â”‚Â Â  â”œâ”€â”€ ./roles/dns_clients
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ./roles/dns_clients/tasks
â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ ./roles/dns_clients/tasks/main.yml
â”‚Â Â  â”‚Â Â  â””â”€â”€ ./roles/dns_clients/templates
â”‚Â Â  â”‚Â Â      â””â”€â”€ ./roles/dns_clients/templates/resolv.conf.j2
â”‚Â Â  â”œâ”€â”€ ./roles/dns_dynamic
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ./roles/dns_dynamic/defaults
â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ ./roles/dns_dynamic/defaults/main.yml
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ./roles/dns_dynamic/handlers
â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ ./roles/dns_dynamic/handlers/main.yml
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ./roles/dns_dynamic/tasks
â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ ./roles/dns_dynamic/tasks/main.yml
â”‚Â Â  â”‚Â Â  â””â”€â”€ ./roles/dns_dynamic/templates
â”‚Â Â  â”‚Â Â      â”œâ”€â”€ ./roles/dns_dynamic/templates/db.forward.j2
â”‚Â Â  â”‚Â Â      â”œâ”€â”€ ./roles/dns_dynamic/templates/db.reverse.j2
â”‚Â Â  â”‚Â Â      â”œâ”€â”€ ./roles/dns_dynamic/templates/named.conf.j2
â”‚Â Â  â”‚Â Â      â””â”€â”€ ./roles/dns_dynamic/templates/named.conf.j2.bak
â”‚Â Â  â”œâ”€â”€ ./roles/haproxy_lb
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ./roles/haproxy_lb/handlers
â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ ./roles/haproxy_lb/handlers/main.yml
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ./roles/haproxy_lb/tasks
â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ ./roles/haproxy_lb/tasks/main.yml
â”‚Â Â  â”‚Â Â  â””â”€â”€ ./roles/haproxy_lb/templates
â”‚Â Â  â”‚Â Â      â””â”€â”€ ./roles/haproxy_lb/templates/haproxy.cfg.j2
â”‚Â Â  â”œâ”€â”€ ./roles/ntp_clients
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ./roles/ntp_clients/defaults
â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ ./roles/ntp_clients/defaults/main.yml
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ./roles/ntp_clients/handlers
â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ ./roles/ntp_clients/handlers/main.yml
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ./roles/ntp_clients/tasks
â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ ./roles/ntp_clients/tasks/main.yml
â”‚Â Â  â”‚Â Â  â””â”€â”€ ./roles/ntp_clients/templates
â”‚Â Â  â”‚Â Â      â””â”€â”€ ./roles/ntp_clients/templates/chrony.conf.j2
â”‚Â Â  â””â”€â”€ ./roles/ntp_master
â”‚Â Â      â”œâ”€â”€ ./roles/ntp_master/defaults
â”‚Â Â      â”‚Â Â  â””â”€â”€ ./roles/ntp_master/defaults/main.yml
â”‚Â Â      â”œâ”€â”€ ./roles/ntp_master/handlers
â”‚Â Â      â”‚Â Â  â””â”€â”€ ./roles/ntp_master/handlers/main.yml
â”‚Â Â      â”œâ”€â”€ ./roles/ntp_master/tasks
â”‚Â Â      â”‚Â Â  â””â”€â”€ ./roles/ntp_master/tasks/main.yml
â”‚Â Â      â””â”€â”€ ./roles/ntp_master/templates
â”‚Â Â          â””â”€â”€ ./roles/ntp_master/templates/ntp-master.conf.j2
â””â”€â”€ ./.vscode
    â””â”€â”€ ./.vscode/settings.json

</directory_structure>

<content full_path="dns_dynamic.yml">
---
- name: Dynamic DNS rebuild using inventory
  hosts: dns_primary
  become: yes
  roles:
    - dns_dynamic

</content>

<content full_path="dns_clients.yml">
---
- name: Install bind-utils on all client servers
  hosts: all:!dns_primary        # all servers except nds_primary
  become: yes
  roles:
    - dns_clients

</content>

<content full_path="ntp_master.yml">
---
- name: Configure NTP master server
  hosts: ntp_master
  become: yes
  roles:
    - ntp_master

</content>

<content full_path="ntp_clients.yml">
---
- name: Configure NTP clients
  hosts: ntp_clients
  become: yes
  roles:
    - ntp_clients

</content>

<content full_path="README.md">
My project Documentation

</content>

<content full_path="apache_vhosts.yml">
---
- name: Configure Apache Virtual Hosts on Load Balancer
  hosts: load_balancer
  become: yes
  roles:
    - apache_vhosts
</content>

<content full_path="haproxy.yml">
---
- name: Configure HAProxy Load Balancer
  hosts: load_balancer
  become: yes
  roles:
    - haproxy_lb
</content>

<content full_path="copy-yum-repos.yml">
---
- name: Ensure rsync is installed on prdx-ntp101
  hosts: prdx-ntp101
  become: yes
  gather_facts: no

  tasks:
    - name: Install rsync package
      dnf:
        name: rsync
        state: present


- name: Copy yum.repos.d from prdx-ntp101 to all servers
  hosts: all
  become: yes
  gather_facts: no

  tasks:
    - name: Copy yum.repos.d directory using rsync from prdx-ntp101
      synchronize:
        src: /etc/yum.repos.d/
        dest: /etc/yum.repos.d/
        delete: no
        recursive: yes
        mode: pull
      delegate_to: prdx-ntp101
      when: inventory_hostname not in [
              'prdx-ansible101',
              'prdx-nsprimary101',
              'prdx-db101'
            ]

</content>

<content full_path="roles/dns_clients/tasks/main.yml">
---
- name: Install bind-utils on client servers
  yum:
    name: bind-utils
    state: present
    update_cache: yes

- name: Disable SELinux
  selinux:
    state: disabled    

- name: Deploy resolv.conf for clients
  template:
    src: resolv.conf.j2
    dest: /etc/resolv.conf
  when: inventory_hostname != "prdx-nsprimary101"


</content>

<content full_path="roles/dns_clients/templates/resolv.conf.j2">
search ziyotek.local
nameserver 10.0.0.53
</content>

<content full_path="roles/dns_dynamic/templates/named.conf.j2">
options {
    directory "/var/named";
    listen-on port 53 { any; };           # listen on all IPv4 interfaces
    listen-on-v6 { none; };               # disable IPv6 to avoid recursion issues
    recursion yes;                        # enable recursion

allow-recursion { 127.0.0.1; 10.0.0.0/24; };
allow-query-cache { 127.0.0.1; 10.0.0.0/24; };
allow-query { 127.0.0.1; 10.0.0.0/24; };


    forwarders {
        8.8.8.8;                           # Google DNS
        1.1.1.1;                           # Cloudflare DNS
    };
    forward only;                          # only use forwarders for external domains
};

logging {
    channel default_debug {
        file "data/named.run";
        severity dynamic;
    };
};

zone "ziyotek.local" IN {
    type master;
    file "/var/named/db.forward";
    allow-transfer { any; };
};

zone "0.0.10.in-addr.arpa" IN {
    type master;
    file "/var/named/db.reverse";
    allow-transfer { any; };
};

</content>

<content full_path="roles/dns_dynamic/templates/db.forward.j2">
$TTL 86400
@   IN  SOA {{ dns_primary }}. admin.{{ dns_domain }}. (
    {{ lookup('pipe','date +%Y%m%d%H') }} ; Serial
    3600 ; Refresh
    1800 ; Retry
    604800 ; Expire
    86400 ) ; Negative Cache TTL
;
@       IN  NS  {{ dns_primary }}.

{% for host in groups['all'] %}
{{ hostvars[host].inventory_hostname }}.{{ dns_domain }}. IN A {{ hostvars[host].ansible_host }}
{% endfor %}

</content>

<content full_path="roles/dns_dynamic/templates/db.reverse.j2">
$TTL 86400
@   IN  SOA {{ dns_primary }}. admin.{{ dns_domain }}. (
    {{ lookup('pipe','date +%Y%m%d%H') }}
    3600
    1800
    604800
    86400 )
;
@       IN  NS  {{ dns_primary }}.

{% for host in groups['all'] %}
{{ hostvars[host].ansible_host.split('.')[-1] }} IN PTR {{ hostvars[host].inventory_hostname }}.
{% endfor %}

</content>

<content full_path="roles/dns_dynamic/templates/named.conf.j2.bak">
options {
    directory "/var/named";
    listen-on port 53 { any; };
    listen-on-v6 { none; };
    recursion yes;
    allow-query-cache { 10.0.0.0/24; };
    allow-recursion { any; };
    allow-query { any; };

    forwarders {
        8.8.8.8;
        1.1.1.1;
    };
    forward only;
};

zone "ziyotek.local" IN {
    type master;
    file "/var/named/db.forward";
    allow-transfer { any; };
};

zone "0.0.10.in-addr.arpa" IN {
    type master;
    file "/var/named/db.reverse";
    allow-transfer { any; };
};
</content>

<content full_path="roles/dns_dynamic/tasks/main.yml">
---
- name: Install BIND
  yum:
    name: bind
    state: present

- name: Ensure named is enabled
  service:
    name: named
    enabled: yes
    state: started

- name: Disable SELinux
  selinux:
    state: disabled

- name: Allow DNS in firewall
  firewalld:
    service: dns
    state: enabled
    permanent: yes
    immediate: yes

- name: Generate named.conf from template
  template:
    src: named.conf.j2
    dest: /etc/named.conf
    owner: root
    group: named
    mode: '0640'
    backup: yes
  notify:
    - Check named syntax
    - Check forward zone syntax
    - Check reverse zone syntax
    - Restart DNS

- name: Generate forward zone db
  template:
    src: db.forward.j2
    dest: /var/named/db.forward
    owner: named
    group: named
    mode: '0640'
  notify:
    - Check forward zone syntax
    - Restart DNS

- name: Generate reverse zone db
  template:
    src: db.reverse.j2
    dest: /var/named/db.reverse
    owner: named
    group: named
    mode: '0640'
  notify:
    - Check reverse zone syntax
    - Restart DNS

</content>

<content full_path="roles/dns_dynamic/handlers/main.yml">
---
- name: Check named syntax
  command: named-checkconf
  listen: "Check named syntax"

- name: Check forward zone syntax
  command: named-checkzone {{ dns_domain }} /var/named/db.forward
  listen: "Check forward zone syntax"

- name: Check reverse zone syntax
  command: named-checkzone 0.0.10.in-addr.arpa /var/named/db.reverse
  listen: "Check reverse zone syntax"

- name: Restart DNS
  service:
    name: named
    state: restarted

</content>

<content full_path="roles/dns_dynamic/defaults/main.yml">
---
dns_domain: "ziyotek.local"
dns_primary: "prdx-nsprimary101"

</content>

<content full_path="roles/ntp_master/defaults/main.yml">
ntp_pool:
  - server time.google.com iburst
  - server time.cloudflare.com iburst

ntp_allow_network: 10.0.0.0/24

</content>

<content full_path="roles/ntp_master/handlers/main.yml">
- name: restart firewalld
  service: 
    name: firewalld
    state: restarted

- name: restart chronyd
  systemd:
    name: chronyd
    state: restarted    
</content>

<content full_path="roles/ntp_master/tasks/main.yml">
- name: Install chrony
  yum:
    name: chrony
    state: present

- name: Deploy NTP master configuration
  template:
    src: ntp-master.conf.j2
    dest: /etc/chrony.conf
    owner: root
    group: root
    mode: '0644'
  notify: restart chronyd

- name: Enable NTP service in firewalld
  firewalld:
    service: ntp
    permanent: yes
    state: enabled
    immediate: yes
  notify: restart firewalld

- name: Enable and start chronyd
  systemd:
    name: chronyd
    enabled: yes
    state: started

</content>

<content full_path="roles/ntp_master/templates/ntp-master.conf.j2">
# NTP Master
{% for server in ntp_pool %}
server {{ server }}
{% endfor %}

allow {{ ntp_allow_network }}
local stratum 10

driftfile /var/lib/chrony/drift
makestep 1.0 3
rtcsync
logdir /var/log/chrony

</content>

<content full_path="roles/ntp_clients/defaults/main.yml">
ntp_master_ip: 10.0.0.51
ntp_master_hostname: prdx-ntp101

</content>

<content full_path="roles/ntp_clients/handlers/main.yml">
- name: restart chronyd
  systemd:
    name: chronyd
    state: restarted

</content>

<content full_path="roles/ntp_clients/tasks/main.yml">
- name: Make yum cache
  yum:
    update_cache: yes

- name: Install chrony
  yum:
    name: chrony
    state: present

- name: Deploy NTP client configuration
  template:
    src: chrony.conf.j2
    dest: /etc/chrony.conf
    mode: '0644'
  notify: restart chronyd

- name: Enable and start chronyd
  systemd:
    name: chronyd
    enabled: yes
    state: started

- name: Force initial time step if offset is large
  command: chronyc -a makestep
  register: makestep
  changed_when: "'Frequency' in makestep.stdout"


</content>

<content full_path="roles/ntp_clients/templates/chrony.conf.j2">
# NTP Client â€“ syncs only from internal master
server {{ ntp_master_ip }} iburst

driftfile /var/lib/chrony/drift
makestep 1.0 3
rtcsync
logdir /var/log/chrony

</content>

<content full_path="roles/apache_vhosts/defaults/main.yml">
---
bambi_image_url: "https://wallscloud.net/img/resize/1600/1200/MM/2016-09-25-disney-bambi-movie-kJJ.jpg"
</content>

<content full_path="roles/apache_vhosts/handlers/main.yml">
---
- name: restart httpd
  systemd:
    name: httpd
    state: restarted

- name: restart firewalld
  systemd:
    name: firewalld
    state: restarted
</content>

<content full_path="roles/apache_vhosts/tasks/main.yml">
---
- name: Install Apache (httpd)
  yum:
    name: httpd
    state: present

- name: Disable SELinux
  selinux:
    state: disabled

- name: Create directories for virtual hosts
  file:
    path: "/var/www/vhost{{ item }}"
    state: directory
    owner: apache
    group: apache
    mode: '0755'
  loop:
    - 1
    - 2
    - 3

- name: Download Bambi image for each virtual host
  get_url:
    url: "{{ bambi_image_url }}"
    dest: "/var/www/vhost{{ item }}/bambi.jpg"
    owner: apache
    group: apache
    mode: '0644'
  loop:
    - 1
    - 2
    - 3

- name: Deploy index.html for Virtual Host 1
  template:
    src: index.html.j2
    dest: /var/www/vhost1/index.html
    owner: apache
    group: apache
    mode: '0644'
  vars:
    page_number: 1

- name: Deploy index.html for Virtual Host 2
  template:
    src: index.html.j2
    dest: /var/www/vhost2/index.html
    owner: apache
    group: apache
    mode: '0644'
  vars:
    page_number: 2

- name: Deploy index.html for Virtual Host 3
  template:
    src: index.html.j2
    dest: /var/www/vhost3/index.html
    owner: apache
    group: apache
    mode: '0644'
  vars:
    page_number: 3

- name: Configure Virtual Host 1 (Port 7000)
  template:
    src: vhost.conf.j2
    dest: /etc/httpd/conf.d/vhost1.conf
    owner: root
    group: root
    mode: '0644'
  vars:
    port: 7000
    doc_root: /var/www/vhost1
  notify: restart httpd

- name: Configure Virtual Host 2 (Port 8000)
  template:
    src: vhost.conf.j2
    dest: /etc/httpd/conf.d/vhost2.conf
    owner: root
    group: root
    mode: '0644'
  vars:
    port: 8000
    doc_root: /var/www/vhost2
  notify: restart httpd

- name: Configure Virtual Host 3 (Port 9000)
  template:
    src: vhost.conf.j2
    dest: /etc/httpd/conf.d/vhost3.conf
    owner: root
    group: root
    mode: '0644'
  vars:
    port: 9000
    doc_root: /var/www/vhost3
  notify: restart httpd

- name: Allow ports 7000, 8000, 9000 in firewalld
  firewalld:
    port: "{{ item }}/tcp"
    permanent: yes
    state: enabled
    immediate: yes
  loop:
    - 7000
    - 8000
    - 9000
  notify: restart firewalld

- name: Enable and start httpd
  systemd:
    name: httpd
    enabled: yes
    state: started
</content>

<content full_path="roles/apache_vhosts/templates/vhost.conf.j2">
Listen {{ port }}

<VirtualHost *:{{ port }}>
    DocumentRoot {{ doc_root }}
    
    <Directory {{ doc_root }}>
        Options Indexes FollowSymLinks
        AllowOverride None
        Require all granted
    </Directory>
    
    ErrorLog /var/log/httpd/vhost_{{ port }}_error.log
    CustomLog /var/log/httpd/vhost_{{ port }}_access.log combined
</VirtualHost>
</content>

<content full_path="roles/apache_vhosts/templates/index.html.j2">
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Page {{ page_number }} - Load Balancer Demo</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        
        .container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            padding: 40px;
            max-width: 900px;
            text-align: center;
        }
        
        h1 {
            color: #333;
            font-size: 3em;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
        }
        
        .page-number {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 15px 30px;
            border-radius: 50px;
            font-size: 2em;
            font-weight: bold;
            display: inline-block;
            margin-bottom: 30px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }
        
        .server-info {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 30px;
            border-left: 5px solid #667eea;
        }
        
        .server-info p {
            color: #555;
            font-size: 1.1em;
            margin: 10px 0;
        }
        
        .server-info strong {
            color: #333;
        }
        
        .image-container {
            margin-top: 30px;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }
        
        img {
            width: 100%;
            height: auto;
            display: block;
        }
        
        .footer {
            margin-top: 30px;
            color: #666;
            font-size: 0.9em;
        }
        
        .refresh-hint {
            background: #fff3cd;
            border: 1px solid #ffc107;
            color: #856404;
            padding: 15px;
            border-radius: 10px;
            margin-top: 20px;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ðŸŽ¯ Load Balancer Demo</h1>
        
        <div class="page-number">
            Page {{ page_number }}
        </div>
        
        <div class="server-info">
            <p><strong>Server:</strong> {{ ansible_hostname }}</p>
            <p><strong>IP Address:</strong> {{ ansible_default_ipv4.address }}</p>
            <p><strong>Backend Port:</strong> {{ 7000 if page_number == 1 else (8000 if page_number == 2 else 9000) }}</p>
        </div>
        
        <div class="refresh-hint">
            ðŸ”„ Refresh this page multiple times to see the load balancer in action!
        </div>
        
        <div class="image-container">
            <img src="bambi.jpg" alt="Bambi - Disney">
        </div>
        
        <div class="footer">
            <p>Powered by Apache & HAProxy | Ziyotek Infrastructure</p>
        </div>
    </div>
</body>
</html>
</content>

<content full_path="roles/haproxy_lb/handlers/main.yml">
---
- name: restart haproxy
  systemd:
    name: haproxy
    state: restarted

- name: restart firewalld
  systemd:
    name: firewalld
    state: restarted
</content>

<content full_path="roles/haproxy_lb/tasks/main.yml">
---
- name: Install HAProxy
  yum:
    name: haproxy
    state: present

- name: Deploy HAProxy configuration
  template:
    src: haproxy.cfg.j2
    dest: /etc/haproxy/haproxy.cfg
    owner: root
    group: root
    mode: '0644'
    backup: yes
  notify: restart haproxy

- name: Allow HTTP (port 80) in firewalld
  firewalld:
    service: http
    permanent: yes
    state: enabled
    immediate: yes
  notify: restart firewalld

- name: Allow HAProxy stats page (port 8404) in firewalld
  firewalld:
    port: 8404/tcp
    permanent: yes
    state: enabled
    immediate: yes
  notify: restart firewalld

- name: Enable and start HAProxy
  systemd:
    name: haproxy
    enabled: yes
    state: started
</content>

<content full_path="roles/haproxy_lb/templates/haproxy.cfg.j2">
#---------------------------------------------------------------------
# Global settings
#---------------------------------------------------------------------
global
    log         127.0.0.1 local2
    chroot      /var/lib/haproxy
    pidfile     /var/run/haproxy.pid
    maxconn     4000
    user        haproxy
    group       haproxy
    daemon
    stats socket /var/lib/haproxy/stats

#---------------------------------------------------------------------
# Default settings
#---------------------------------------------------------------------
defaults
    mode                    http
    log                     global
    option                  httplog
    option                  dontlognull
    option http-server-close
    option forwardfor       except 127.0.0.0/8
    option                  redispatch
    retries                 3
    timeout http-request    10s
    timeout queue           1m
    timeout connect         10s
    timeout client          1m
    timeout server          1m
    timeout http-keep-alive 10s
    timeout check           10s
    maxconn                 3000

#---------------------------------------------------------------------
# HAProxy Statistics Page
#---------------------------------------------------------------------
listen stats
    bind *:8404
    stats enable
    stats uri /
    stats refresh 5s
    stats show-legends
    stats show-node

#---------------------------------------------------------------------
# Frontend - Accepts incoming HTTP requests
#---------------------------------------------------------------------
frontend http_front
    bind *:80
    default_backend apache_backend
    
    # Add custom header to show which backend server responded
    http-response set-header X-Backend-Server %s

#---------------------------------------------------------------------
# Backend - Apache Virtual Hosts (Round Robin Load Balancing)
#---------------------------------------------------------------------
backend apache_backend
    balance roundrobin
    option httpchk GET /
    
    # Backend servers (all on localhost with different ports)
    server vhost1 127.0.0.1:7000 check
    server vhost2 127.0.0.1:8000 check
    server vhost3 127.0.0.1:9000 check

    

</content>

<content full_path=".vscode/settings.json">
{
    "ansible.python.interpreterPath": "/usr/bin/python"
}
</content>

</repo-to-text>
